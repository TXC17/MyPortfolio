try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})["__faroBundleId_gptengineer-app"]="17638416719484a12ecf001"}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6590],{3290:(e,l,s)=>{s.d(l,{DeletedProjectDialog:()=>c});var t=s(77145),a=s(13410),r=s(95661),n=s(35385),i=s(52811),o=s(20247);let c=()=>{let[e,l]=(0,r.useState)(!1),s=(0,a.useRouter)(),c=(0,a.useSearchParams)(),[d,u]=(0,r.useState)(null),[m,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=c.get("deleted"),s=c.get("projectName"),t=c.get("githubOwner");"true"===e&&s&&t&&(l(!0),u(s),p(t))},[c]);let h=()=>{l(!1),s.replace("/")};return(0,t.jsx)(o.lG,{open:e,onOpenChange:h,children:(0,t.jsxs)(o.Cf,{children:[(0,t.jsxs)(o.c7,{children:[(0,t.jsx)(o.L3,{children:"Project Deleted"}),(0,t.jsx)(o.rr,{children:"Your project has been deleted. If you want to delete the GitHub repository as well, go to the repo settings."})]}),(0,t.jsxs)(o.Es,{children:[(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:h,children:"Close"}),(0,t.jsx)(i.$,{size:"sm",onClick:()=>{window.open((0,n.rZ)(d,m)+"/settings")},children:"Github Repo Settings"})]})]})})}},8468:(e,l,s)=>{s.d(l,{r:()=>n});var t=s(53789),a=s(63851),r=s(69850);let n={mostPopular:()=>(0,t.j)({queryKey:r.BP.mostPopular(),queryFn:async()=>(0,a.g)().get("/project_profiles/popular"),staleTime:3e5}),featured:()=>(0,t.j)({queryKey:r.BP.featured(),queryFn:async()=>(0,a.g)().get("/project_profiles/featured"),staleTime:3e5}),category:e=>{let{category:l}=e;return(0,t.j)({queryKey:r.BP.category(l),queryFn:async()=>(0,a.g)().get("/project_profiles/category?maincategory=".concat(l,"&limit=6")),staleTime:3e5})},byPublisher:e=>{let{publisherId:l}=e;return(0,t.j)({queryKey:r.BP.byPublisher(l),queryFn:async()=>{let e=(0,a.g)();return await e.get("/project_profiles/publisher/".concat(l))}})}}},21e3:(e,l,s)=>{s.d(l,{Z:()=>h});var t=s(77145),a=s(47226),r=s(30849),n=s(46753),i=s.n(n),o=s(92912),c=s(69730),d=s(39528),u=s(70051);let m=e=>{let{project_profile:l}=e,s="/products/".concat(l.project_name),a=l.thumbnail;return(0,t.jsxs)(i(),{href:s,className:"group flex flex-col overflow-hidden",onClick:()=>{o.Ay.capture(d.lX.PROJECT_CLICKED,{project_id:l.project_id,project_name:l.project_name})},children:[(0,t.jsx)("div",{className:"relative aspect-video w-full overflow-hidden rounded-lg border border-border bg-muted transition-all",children:(0,t.jsx)(r.default,{src:a,alt:l.name||"Project screenshot",fill:!0,className:"object-cover transition-transform group-hover:scale-105",sizes:"(max-width: 640px) 50vw, 200px"})}),(0,t.jsxs)("div",{className:"flex justify-between pt-2",children:[(0,t.jsx)(u.U,{project_profile:l}),(0,t.jsxs)("div",{className:"mx-4 flex items-center gap-1",children:[(0,t.jsx)(c.I,{name:"heart",className:"w-4 fill-muted-foreground"}),(0,t.jsx)("span",{className:"text-sm",children:l.like_count||0})]})]})]})},p=()=>(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(a.E,{className:"aspect-video w-full"}),(0,t.jsx)("div",{className:"flex flex-1 flex-col pt-2",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,t.jsx)(a.E,{className:"h-4 w-3/4"}),(0,t.jsx)(a.E,{className:"h-3 w-1/2"})]}),(0,t.jsx)(a.E,{className:"mr-4 h-4 w-8"})]})})]}),h=e=>{let{project_profiles:l,isLoading:s}=e;return s?(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:Array.from({length:6}).map((e,l)=>(0,t.jsx)(p,{},l))}):l.length?(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:l.map(e=>(0,t.jsx)(m,{project_profile:e},e.project_id))}):null}},23293:(e,l,s)=>{s.d(l,{D:()=>o});var t=s(77145),a=s(95661),r=s(64021),n=s(56024),i=s(50562);let o=(0,a.memo)(e=>{let{projects:l,isLoading:s,isSupabaseClickable:a=!1,showAvatar:o=!0,placeholderCount:c=8,selectedCategory:d,subtitleType:u,noProjectsMessage:m="No projects found",skeletonBackgroundColor:p,showStars:h=!1,onToggleStar:x,showActionsDropdown:j=!0,getHref:v,getOnClick:f,getImagePreviewButtonText:g,className:w,selectionMode:b=!1,selectedProjectIds:y,onSelectionChange:N,onSelectModeToggle:_,enableBulkSelection:C=!1}=e,k=l||[],P=s?c-k.length:0;return s||0!==k.length?(0,t.jsxs)("div",{className:(0,n.cn)("grid w-full grid-cols-[repeat(auto-fill,minmax(275px,1fr))] gap-5",w),children:[k.map((e,l)=>(0,t.jsx)("div",{className:"w-full max-w-[400px]",children:(0,t.jsx)(r.U,{project:e,isSupabaseClickable:a,showAvatar:o,selectedCategory:d,subtitleType:u,showStars:h,onToggleStar:x,showActionsDropdown:j,linkHref:null==v?void 0:v(e,l),onClick:null==f?void 0:f(e,l),imagePreviewButtonText:null==g?void 0:g(e),selectionMode:b,isSelected:(null==y?void 0:y.has(e.id))||!1,onSelectionChange:N,onSelectModeToggle:_,enableBulkSelection:C})},e.id)),s&&P>0&&Array.from({length:P}).map((e,l)=>(0,t.jsx)("div",{className:"w-full max-w-[400px]",children:(0,t.jsx)(i.p,{backgroundColor:p})},l))]}):(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:m})});o.displayName="ProjectsGrid"},30669:(e,l,s)=>{s.d(l,{LandingPageContentSwitch:()=>C});var t=s(77145),a=s(95661),r=s(63133),n=s(26294),i=s(87709),o=s(83220),c=s(49493),d=s(52811),u=s(56455),m=s(55719),p=s(32793),h=s(37962);let x=e=>{var l,s;let{isDraft:a}=e,r=(0,n.c3)("WorkspaceProjects"),x=(0,c.Mu)(e=>e.workspaces),j=(0,o.j4)(e=>e.currentWorkspace),v=null!=(s=null==j?void 0:j.id)?s:x.length>0?null==(l=x[0])?void 0:l.id:void 0,f=(0,u.dA)(e=>e.active),{projects:g,isLoading:w,hasMore:b,searchQuery:y,setSearchQuery:N,selectedUserId:_,setSelectedUserId:C,sortBy:k,setSortBy:P,order:S,setOrder:E,showMore:L,allProjects:A}=(0,h.tD)({workspaceId:v,pageSize:8,isDraft:a});if(f||a&&A&&0===A.length&&!w)return null;let I=!v||w||(null==g?void 0:g.length)===0&&!A;return(0,t.jsx)(i.t,{projects:g||[],isLoading:I,showMoreButton:b?(0,t.jsx)("div",{className:"mt-0 flex flex-col items-center justify-center gap-1",children:(0,t.jsx)(d.$,{onClick:L,variant:"muted",className:"mt-8",disabled:w,children:r("showMore")})}):null,showAvatar:!0,subtitleType:"updated_at"===k?"edit-time":"create-time",noProjectsMessage:r("noProjectsFound"),header:(0,t.jsx)(m.Q,{title:a?"My personal projects":(null==j?void 0:j.name)||"My workspace",viewAllLink:a?void 0:"/projects/workspace",isLoading:w,filters:(0,t.jsx)(p.O,{isLoading:w,selectedUserId:_,setSelectedUserId:C,workspaceId:v||"",sortBy:k,setSortBy:P,order:S,setOrder:E,searchQuery:y,setSearchQuery:N,hideCreatorFilter:a})})})};var j=s(40702),v=s(61374),f=s(15941),g=s(74507),w=s(18502),b=s(23293),y=s(80421);let N=()=>{let{data:e,isLoading:l}=(0,w.I)(y.c.sharedWithMe());return(null==e?void 0:e.length)?(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsx)("p",{className:"text-2xl font-medium",children:"Shared with me"}),(0,t.jsx)(b.D,{projects:null!=e?e:[],isLoading:l,showAvatar:!0,subtitleType:"edit-time"})]}):null},_=()=>{let{authUser:e}=(0,j.Z2)(),{permitted:l}=(0,v.J)(g.eZ.ViewWorkspaceProjects);return(0,t.jsxs)("div",{className:"flex w-full flex-col gap-12 rounded-[20px] bg-background px-8 py-8",children:[e&&l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x,{isDraft:!0}),(0,t.jsx)(x,{})]}),e&&(0,t.jsx)(N,{}),(0,t.jsx)(f.K,{children:(0,t.jsx)(r.lf,{})})]})},C=()=>(0,t.jsx)(a.Suspense,{children:(0,t.jsx)(_,{})})},32793:(e,l,s)=>{s.d(l,{O:()=>y});var t=s(77145),a=s(26294),r=s(52811),n=s(69730),i=s(6397),o=s(47226),c=s(86686),d=s(95661),u=s(83220),m=s(52597),p=s(69958),h=s(89002),x=s(43010),j=s(56024);let v=e=>{var l;let{selectedUserId:s,setSelectedUserId:i,workspaceId:o,className:v}=e,[f,g]=(0,d.useState)(!1),[w,b]=(0,d.useState)(""),y=(0,c.d7)(w,300),N=(0,a.c3)("WorkspaceProjectFilters.userFilter"),{members:_,isLoading:C,fetchNextPage:k,hasNextPage:P,isFetchingNextPage:S}=(0,x.v)({workspaceId:o,searchQuery:y}),E=(0,u.j4)(e=>e.membership),L=y.length<3,A=(0,d.useMemo)(()=>[{value:"all",label:N("allCreators")},...(null==E?void 0:E.user_id)&&L?[{value:null==E?void 0:E.user_id,label:"".concat((null==E?void 0:E.display_name)||(null==E?void 0:E.email)," ").concat(N("you"))}]:[],..._.filter(e=>e.user_id!==(null==E?void 0:E.user_id)||!L).map(e=>({value:e.user_id,label:"".concat(e.display_name||e.email)}))],[N,null==E?void 0:E.user_id,null==E?void 0:E.display_name,null==E?void 0:E.email,L,_]),I=(0,d.useCallback)(e=>{if(P&&!S&&!C){let{scrollTop:l,scrollHeight:s,clientHeight:t}=e.currentTarget;(l+t)/s>=.8&&k()}},[P,S,C,k]);return(0,t.jsxs)(h.AM,{open:f,onOpenChange:g,children:[(0,t.jsx)(h.Wv,{asChild:!0,children:(0,t.jsxs)(r.$,{variant:"outline",role:"combobox","aria-expanded":f,className:(0,j.cn)("h-9 justify-between bg-background font-normal shadow-sm hover:border-input hover:bg-background",v),children:[(0,t.jsx)("span",{className:"truncate",children:(null==(l=A.find(e=>e.value===s))?void 0:l.label)||N("allCreators")}),(0,t.jsx)(n.A,{name:"chevron_down",size:"small",className:"ml-2 opacity-50"})]})}),(0,t.jsx)(h.hl,{align:"end",className:"z-40 p-0 md:w-[--radix-popover-trigger-width]",children:(0,t.jsxs)(p.uB,{shouldFilter:!1,children:[(0,t.jsx)(p.G7,{placeholder:N("searchPlaceholder"),value:w,onValueChange:b,className:"h-9 focus-visible:ring-0 focus-visible:ring-offset-0"}),(0,t.jsxs)(p.oI,{className:"max-h-72 overflow-auto",onScroll:I,style:{overscrollBehavior:"contain"},children:[(0,t.jsx)(p.xL,{children:C?"Loading...":"No creators found."}),(0,t.jsx)(p.L$,{children:A.map(e=>(0,t.jsxs)(p.h_,{value:e.value,onSelect:()=>{i(e.value),g(!1),b("")},className:"cursor-pointer",children:[(0,t.jsx)("span",{className:"truncate",children:e.label}),(0,t.jsx)(n.A,{name:"check",className:(0,j.cn)("ms-auto h-4 w-4",s===e.value?"opacity-100":"opacity-0")})]},e.value))}),!(S||C)&&(0,t.jsx)("div",{className:"w-full pb-2 pt-1",children:(0,t.jsx)(m.y,{className:"mx-auto h-4 w-4"})})]})]})})]})};var f=s(8711);let g=e=>[{value:"updated_at",label:e("sortBy.lastEdited")},{value:"created_at",label:e("sortBy.dateCreated")},{value:"name",label:e("sortBy.alphabetical")}],w=(e,l)=>{switch(e){case"updated_at":case"created_at":return[{value:"desc",label:l("order.newestFirst")},{value:"asc",label:l("order.oldestFirst")}];case"name":return[{value:"asc",label:l("order.aToZ")},{value:"desc",label:l("order.zToA")}];default:return[]}},b=e=>{let{sortBy:l,setSortBy:s,order:i,setOrder:o,className:c,availableSorts:d}=e,u=(0,a.c3)("WorkspaceProjectFilters"),m=g(u),p=w(l,u),h=((e,l)=>{let s=g(l).find(l=>l.value===e);return(null==s?void 0:s.label)||l("labels.sortBy")})(l,u),x=d?m.filter(e=>d.includes(e.value)):m;return(0,t.jsxs)(f.rI,{children:[(0,t.jsx)(f.ty,{asChild:!0,children:(0,t.jsxs)(r.$,{variant:"outline",className:(0,j.cn)("h-9 justify-between gap-2 bg-background px-3 font-normal shadow-sm hover:border-input hover:bg-background",c),children:[(0,t.jsx)("span",{children:h}),(0,t.jsx)(n.A,{name:"chevron_down",className:"text-muted-foreground",size:"small"})]})}),(0,t.jsxs)(f.SQ,{align:"start",className:"w-56",children:[(0,t.jsx)(f.lp,{children:u("labels.sortBy")}),(0,t.jsx)(f.I,{children:x.map(e=>(0,t.jsx)(f.hO,{checked:l===e.value,onClick:()=>(e=>{s(e);let l=w(e,u)[0];l&&o(l.value)})(e.value),className:"cursor-pointer",children:e.label},e.value))}),(0,t.jsx)(f.mB,{}),(0,t.jsx)(f.lp,{children:u("labels.order")}),(0,t.jsx)(f.I,{children:p.map(e=>(0,t.jsx)(f.hO,{checked:i===e.value,onClick:()=>o(e.value),className:"cursor-pointer",children:e.label},e.value))})]})]})},y=e=>{let{selectedUserId:l,setSelectedUserId:s,workspaceId:c,sortBy:d,setSortBy:u,order:m,setOrder:p,searchQuery:h,setSearchQuery:x,hideCreatorFilter:j=!1,isLoading:f=!1}=e,g=(0,a.c3)("WorkspaceProjectFilters");return f?(0,t.jsxs)("div",{className:"grid w-full max-w-screen-md grid-cols-2 gap-2 sm:grid-cols-3",children:[(0,t.jsx)(o.E,{className:"col-span-2 h-9 shrink-0 sm:col-span-1"}),(0,t.jsx)(o.E,{className:"h-9"}),(0,t.jsx)(o.E,{className:"h-9"})]}):(0,t.jsxs)("div",{className:"grid w-full max-w-screen-md grid-cols-2 gap-2 sm:grid-cols-3",children:[(0,t.jsxs)("div",{className:"relative col-span-2 shrink-0 sm:col-span-1",children:[(0,t.jsx)(n.A,{name:"search",className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,t.jsx)(i.p,{type:"text",placeholder:g("search.placeholder"),value:h,onChange:e=>x(e.target.value),className:"px-9 text-sm"}),h&&(0,t.jsx)(r.$,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 h-6 w-6 -translate-y-1/2 p-0",onClick:()=>x(""),children:(0,t.jsx)(n.A,{name:"x",className:"h-3 w-3"})})]}),(0,t.jsx)(b,{sortBy:d,setSortBy:u,order:m,setOrder:p,availableSorts:["created_at","updated_at","name"]}),!j&&(0,t.jsx)(v,{selectedUserId:l,setSelectedUserId:s,workspaceId:c})]})}},36309:(e,l,s)=>{s.d(l,{H:()=>c});var t=s(92912),a=s(95661),r=s(92918),n=s(47283),i=s(39528),o=s(680);function c(e){let{setOpenDialogProjectId:l,trackDwellTime:s=!1}=e,{generateClickId:c}=(0,n.E)(),d=(0,a.useRef)(null),u=(0,r.Tp)(o.x.ProjectProfiles),m=(0,a.useCallback)(e=>{if(e.is_profile_published&&e.name&&u)return"/products/".concat(e.name)},[u]),p=(0,a.useCallback)((e,a)=>{if(!e.is_profile_published||!e.name||!u)return r=>{let n;0!==r.button||r.metaKey||r.ctrlKey||r.altKey||r.shiftKey||r.defaultPrevented||(r.preventDefault(),s&&(d.current=n=c()),t.Ay.capture(i.$6.COMMUNITY.PROJECT_CLICKED,{project_id:e.id,project_name:e.name,project_category:e.category,position_index:a,...n&&{click_id:n}}),l(e.id))}},[u,l,c,s]);return{clickIdRef:d,getHref:m,getOnClick:p,getImagePreviewButtonText:(0,a.useCallback)(e=>e.is_profile_published&&e.name&&u?"View more":"Preview",[u])}}},37962:(e,l,s)=>{s.d(l,{TU:()=>d,tD:()=>u});var t=s(81496),a=s(21562),r=s(95661),n=s(40911),i=s(99989),o=s(74507);let c=e=>{if(!e)return 0;try{if(e instanceof t.Dc)return e.toDate().getTime();if("number"==typeof e)return isNaN(e)?0:e;if("string"==typeof e){let l=Date.parse(e);return isNaN(l)?0:l}return 0}catch(e){return 0}},d=(e,l,s)=>e.sort((e,t)=>{let a=0;switch(l){case"name":a=(e.name||"").localeCompare(t.name||"");break;case"created_at":a=c(e.created_at)-c(t.created_at);break;default:a=c(e.updated_at)-c(t.updated_at)}return"desc"===s?-a:a}),u=e=>{let{workspaceId:l,pageSize:s=12,isDraft:t=!1,enableVisibilityFilter:c=!1,enablePublishStatusFilter:u=!1}=e,[m,p]=(0,r.useState)(""),[h,x]=(0,r.useState)(1),[j,v]=(0,r.useState)("all"),[f,g]=(0,r.useState)("updated_at"),[w,b]=(0,r.useState)("desc"),[y,N]=(0,r.useState)("all"),[_,C]=(0,r.useState)("all"),k=(0,r.useRef)(l);(0,r.useEffect)(()=>{k.current!==l&&(v("all"),g("updated_at"),b("desc"),p(""),N("all"),C("all"),x(1),k.current=l)},[l]),(0,r.useEffect)(()=>{x(1)},[j,f,w,m,y,_]);let{data:P,isLoading:S,refetch:E}=(0,n.I)({...i.y.projects({workspaceId:l,userId:j,isDraft:t,visibility:c?y:void 0}),permission:o.eZ.ViewWorkspaceProjects,enabled:!!l}),L=(0,r.useMemo)(()=>({keys:[{name:"name",weight:.5},{name:"description",weight:.5},{name:"tech_stack",weight:.3}],threshold:.5,includeScore:!0}),[]),A=(0,r.useMemo)(()=>{let e=null==P?void 0:P.projects;return e?new a.A(e,L):null},[null==P?void 0:P.projects,L]),I=(0,r.useMemo)(()=>{let e=null==P?void 0:P.projects;if(!e)return;let l=[...e];if(u&&"all"!==_&&(l=l.filter(e=>{let l=!0===e.is_published&&"private"===e.publish_visibility,s=!0===e.is_published&&(null==e.publish_visibility||"public"===e.publish_visibility);return"published"===_?l||s:"internally_published"===_?l:"externally_published"===_?s:"unpublished"!==_||!l&&!s})),m.length>0&&A){let e=new Set(A.search(m).map(e=>e.item.id));l=l.filter(l=>e.has(l.id))}return d(l,f,w)},[null==P?void 0:P.projects,m,A,f,w,_,u]),M=(0,r.useMemo)(()=>{if(I)return I.slice(0,h*s)},[I,h,s]),T=((null==I?void 0:I.length)||0)>h*s;return{projects:M,allProjects:null==P?void 0:P.projects,isLoading:S,hasMore:T,searchQuery:m,setSearchQuery:p,selectedUserId:j,setSelectedUserId:v,sortBy:f,setSortBy:g,order:w,setOrder:b,visibility:y,setVisibility:N,publishStatus:_,setPublishStatus:C,refetch:E,showMore:()=>{T&&x(e=>e+1)}}}},43010:(e,l,s)=>{s.d(l,{v:()=>o});var t=s(8105),a=s(95661),r=s(61374),n=s(63851),i=s(74507);function o(e){let{workspaceId:l,searchQuery:s=""}=e,{permitted:o}=(0,r.J)(i.eZ.ViewWorkspaceMembers),{data:c,isLoading:d,error:u,fetchNextPage:m,hasNextPage:p,isFetchingNextPage:h}=(0,t.q)({queryKey:["workspace-members-for-filter",l,s],queryFn:async e=>{let{pageParam:t=0}=e,a=(0,n.P)(),r=new URLSearchParams({limit:"20",offset:t.toString(),status:"active"});s.trim()&&r.append("q",s.trim());let i="/workspaces/".concat(l,"/memberships/search?").concat(r.toString());try{return await a.get(i)}catch(e){throw console.error("\uD83D\uDD0D DEBUG - API error:",e),e}},initialPageParam:0,getNextPageParam:(e,l)=>{let s=20*l.length;if(e.has_more)return s},enabled:!!l&&o,staleTime:0});return{members:(0,a.useMemo)(()=>(null==c?void 0:c.pages.flatMap(e=>e.members))||[],[null==c?void 0:c.pages]),isLoading:d,error:u,fetchNextPage:m,hasNextPage:p,isFetchingNextPage:h}}},47079:(e,l,s)=>{s.d(l,{I:()=>j});var t=s(77145),a=s(96373),r=s(46753),n=s.n(r),i=s(95661),o=s(52811),c=s(20247),d=s(21016),u=s(47283),m=s(30542),p=s(56024),h=s(99916),x=s(19817);let j=e=>{let{isOpen:l,onClose:s,project:r,clickId:j,enableDwellTracking:v=!1}=e,f=(0,h.g)(),g=r.url||(0,m.O)({projectId:r.id}),w=(0,d.A)("md"),{startDwellTracking:b,stopDwellTracking:y}=(0,u.E)(),N=(0,i.useRef)(null);(0,i.useEffect)(()=>{l&&v&&j&&b(j,r.id)},[l,v,j,r.id,b]);let _=()=>{v&&y("remix")},C=()=>{v&&y("open_project")},k=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.$,{asChild:!0,variant:"outline",className:w?"flex w-full items-center justify-center gap-1":"flex items-center gap-1",children:(0,t.jsx)(n(),{ref:N,href:r.url?r.url:"/projects/".concat(r.id),onClick:C,children:"View Project"})}),(0,t.jsx)(x.E,{project:r,onRemix:_,className:w?"flex w-full items-center justify-center gap-1":"flex items-center gap-1",onCreateOwn:s})]}),P=r.name||"Untitled Project";return(0,t.jsx)(c.lG,{open:l,onOpenChange:e=>{e||(v&&y("close"),s())},children:(0,t.jsxs)(c.Cf,{className:(0,p.cn)("flex max-h-none flex-col p-4",w?"bottom-0 top-auto h-[80vh] w-screen max-w-[100vw] translate-y-0 rounded-b-none rounded-t-3xl transition-all duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom":"h-[85vh] max-w-[90vw] rounded-3xl"),size:"xl",hideCloseButton:!0,onOpenAutoFocus:e=>{var l;e.preventDefault(),null==(l=N.current)||l.focus()},children:[w?(0,t.jsx)(a.s6,{children:(0,t.jsxs)(c.L3,{children:[P,r.user_display_name&&" by ".concat(r.user_display_name)]})}):(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-1.5 truncate pl-0.5",children:(0,t.jsxs)(c.L3,{className:"truncate",children:[P,r.user_display_name&&(0,t.jsxs)("span",{className:"ml-1 text-muted-foreground/50",children:["by ",r.user_display_name]})]})}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(k,{})})]}),(0,t.jsx)("div",{className:"flex flex-1 overflow-hidden rounded-3xl border",children:(0,t.jsx)("iframe",{sandbox:f,src:g,className:"h-full w-full",style:{border:"none",margin:0,padding:0},allow:"accelerometer; autoplay; camera; encrypted-media; fullscreen; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; payment; usb; vr; xr-spatial-tracking; screen-wake-lock; magnetometer; ambient-light-sensor; battery; gamepad; picture-in-picture; display-capture; bluetooth;"})}),w&&(0,t.jsx)("div",{className:"flex flex-row items-center gap-2 pb-2 pt-2",children:(0,t.jsx)(k,{})})]})})}},47283:(e,l,s)=>{s.d(l,{E:()=>i});var t=s(92912),a=s(95661),r=s(95018),n=s(39528);let i=()=>{let e=(0,a.useRef)(null),l=(0,a.useCallback)(()=>(0,r.A)(),[]),s=(0,a.useCallback)((l,s)=>{e.current={clickId:l,projectId:s,startTime:Date.now()}},[]),i=(0,a.useCallback)(l=>{let s=e.current;if(!s)return;let a=Date.now()-s.startTime;t.Ay.capture(n.$6.COMMUNITY.PROJECT_DWELL_TIME,{click_id:s.clickId,project_id:s.projectId,dwell_time_ms:a,reason:l}),e.current=null},[]);return(0,a.useEffect)(()=>{let l=()=>{e.current&&i("navigate_away")},s=()=>{"hidden"===document.visibilityState&&l()};return window.addEventListener("pagehide",l),window.addEventListener("beforeunload",l),document.addEventListener("visibilitychange",s),()=>{window.removeEventListener("pagehide",l),window.removeEventListener("beforeunload",l),document.removeEventListener("visibilitychange",s),l()}},[i]),{generateClickId:l,startDwellTracking:s,stopDwellTracking:i}}},50562:(e,l,s)=>{s.d(l,{p:()=>n});var t=s(77145),a=s(47226),r=s(56024);let n=e=>{let{mainSkeletonClassName:l,backgroundColor:s}=e;return s||(s="bg-muted"),(0,t.jsxs)("div",{className:"group flex flex-col",children:[(0,t.jsx)(a.E,{className:(0,r.cn)("mb-3 aspect-video h-full w-full rounded-lg",s,l)}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 py-1",children:[(0,t.jsx)(a.E,{className:(0,r.cn)("h-3.5 w-[150px]",s)}),(0,t.jsx)(a.E,{className:(0,r.cn)("h-3.5 w-[120px]",s)})]})]})}},55719:(e,l,s)=>{s.d(l,{Q:()=>u});var t=s(77145),a=s(46753),r=s.n(a),n=s(26294),i=s(52811),o=s(69730),c=s(47226);let d=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.E,{className:"h-9 w-32"}),(0,t.jsx)(c.E,{className:"h-9 w-20"})]}),(0,t.jsx)(c.E,{className:"h-9 w-9 sm:w-24"})]}),u=e=>{let{title:l,viewAllLink:s,filters:a,isLoading:c=!1}=e,u=(0,n.c3)("ProjectsHeader");return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between gap-2",children:c?(0,t.jsx)(d,{}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-2xl font-medium",children:l}),s&&(0,t.jsx)(i.$,{asChild:!0,variant:"ghost",children:(0,t.jsxs)(r(),{href:s,children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:u("viewAll")}),(0,t.jsx)(o.A,{name:"chevron_right",size:"large"})]})})]})}),a]})}},63133:(e,l,s)=>{s.d(l,{D4:()=>S,lf:()=>P});var t=s(77145),a=s(18502),r=s(26294),n=s(92912),i=s(95661),o=s(47079),c=s(87709),d=s(83220),u=s(52811),m=s(36309),p=s(39528),h=s(214),x=s(72632),j=s(80421),v=s(2074),f=s(56024),g=s(67844),w=s(67539);let b=e=>{let{value:l,onValueChange:s,options:a,placeholder:r,className:n="h-9 w-36"}=e;return(0,t.jsxs)(w.l6,{value:l,onValueChange:s,children:[(0,t.jsx)(w.bq,{className:n,children:(0,t.jsx)(w.yv,{placeholder:r})}),(0,t.jsx)(w.gC,{children:a.map(e=>(0,t.jsx)(w.eb,{value:e.value,children:e.label},e.value))})]})},y=e=>{let{view:l,setView:s,category:a,setCategory:n}=e,i=(0,r.c3)("CommunityFilters"),o=(e=>[{value:"featured",label:e("featured")},{value:"remixes",label:e("popular")},{value:"recent",label:e("recent")}])(i),c=[{value:"all",label:"Discover"},...v.yB.map(e=>{let[l,s]=e;return{value:l,label:s}})];return(0,t.jsxs)("div",{className:"grid grid-cols-2 flex-wrap items-center gap-1 max-lg:max-w-screen-sm lg:flex lg:gap-2",children:[(0,t.jsx)(b,{value:l,onValueChange:s,options:o,placeholder:i("sortBy"),className:"h-9 lg:w-36"}),(0,t.jsx)(b,{value:a,onValueChange:n,options:c,placeholder:"Discover",className:"h-9 lg:hidden"}),(0,t.jsxs)("div",{className:"hidden flex-wrap gap-2 lg:flex",children:[(0,t.jsx)(g.E,{variant:"all"===a?"secondary":"outline",className:(0,f.cn)("h-9 cursor-pointer border px-3 py-2 text-sm shadow-sm","all"===a&&"border-transparent shadow-none"),onClick:()=>n("all"),children:"Discover"}),v.yB.map(e=>{let[l,s]=e;return(0,t.jsx)(g.E,{variant:a===l?"secondary":"outline",className:(0,f.cn)("h-9 cursor-pointer border px-3 py-2 text-sm shadow-sm",a===l&&"border-transparent shadow-none"),onClick:()=>n(l),children:s},l)})]})]})};var N=s(55719),_=s(21e3),C=s(8468);let k=()=>{var e;let l=(0,a.I)(C.r.mostPopular());return(0,t.jsx)(_.Z,{project_profiles:(null==(e=l.data)?void 0:e.project_profiles)||[],isLoading:l.isLoading})},P=()=>(0,h.Z8)()?(0,t.jsxs)("div",{className:"flex flex-col gap-6 pb-6",children:[(0,t.jsx)(N.Q,{title:"From the Community",viewAllLink:"/discover"}),(0,t.jsx)(k,{})]}):(0,t.jsx)(E,{defaultPageSize:16,HeaderComponent:e=>{let{view:l,setView:s,category:a,setCategory:r}=e;return(0,t.jsx)(N.Q,{title:"From the Community",viewAllLink:"/projects/featured",filters:(0,t.jsx)(y,{view:l,setView:s,category:a,setCategory:r})})}}),S=e=>{let{className:l}=e;return(0,t.jsx)("div",{className:(0,f.cn)("mx-auto mt-16 rounded-[20px] bg-background p-8",l),children:(0,t.jsx)(E,{defaultPageSize:32,HeaderComponent:e=>{let{view:l,setView:s,category:a,setCategory:r}=e;return(0,t.jsx)(N.Q,{title:"From the Communityaas",viewAllLink:"/projects/featured",filters:(0,t.jsx)(y,{view:l,setView:s,category:a,setCategory:r})})}})})},E=e=>{let{defaultPageSize:l,HeaderComponent:s}=e,h=(0,r.c3)("CommunityProjects"),[f,g]=(0,i.useState)("featured"),[w,b]=(0,i.useState)("all"),[y,N]=(0,i.useState)([]),[_,C]=(0,i.useState)(),k=(0,d.j4)(e=>{var l;return null==(l=e.currentWorkspace)?void 0:l.plan}),{isEnterprisePlan:P}=(0,x.cb)(k),[S,E]=(0,i.useState)(null),{getOnClick:L,getHref:A,getImagePreviewButtonText:I}=(0,m.H)({setOpenDialogProjectId:E});(0,i.useEffect)(()=>{N([]),C(void 0)},[f,w]);let{data:M,isLoading:T,isFetching:D,isPlaceholderData:B}=(0,a.I)({...j.c.communityProjects(l,f,w,_),placeholderData:e=>e}),F=T||D;(0,i.useEffect)(()=>{M&&!B&&N(e=>{let l=new Set(e.map(e=>e.id));return[...e,...M.projects.filter(e=>!l.has(e.id))]})},[M,B]);let O=!!(null==M?void 0:M.hasMore),z=v.MD[f];if(P)return null;let U=S?y.find(e=>e.id===S):null;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.t,{projects:y,isLoading:F,showMoreButton:O?(0,t.jsx)("div",{className:"mt-0 flex justify-center",children:(0,t.jsx)(u.$,{onClick:()=>{!D&&O&&(null==M?void 0:M.nextCursor)&&y.length>0&&(n.Ay.capture(p.$6.COMMUNITY.SHOW_MORE_CLICKED,{current_projects_count:y.length,order_by:f,category:w}),C(M.nextCursor))},variant:"muted",className:"mt-8",disabled:F,loading:F,children:h(F?"loading":"showMore")})}):null,showAvatar:!0,header:(0,t.jsx)(s,{view:f,setView:g,category:w,setCategory:b,isLoading:F}),selectedCategory:w,subtitleType:z,showActionsDropdown:!1,id:"from-the-community",getImagePreviewButtonText:I,getHref:A,getOnClick:L}),U&&(0,t.jsx)(o.I,{isOpen:!0,onClose:()=>E(null),project:U,isTemplate:!1})]})}},70051:(e,l,s)=>{s.d(l,{U:()=>i});var t=s(77145),a=s(30849),r=s(56024);let n=e=>{let{project_profile:l,imageSize:s=52,size:n="normal"}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex shrink-0 items-center justify-center overflow-hidden rounded-lg bg-brand-bubblegum","big"===n?"size-12 min-w-12":"size-10 min-w-10"),children:l.icon?(0,t.jsx)(a.default,{src:l.icon,alt:l.name||"Project icon",width:s,height:s,className:(0,r.cn)("object-cover","big"===n?"h-12 w-12":"h-10 w-10")}):(0,t.jsx)("span",{className:"text-sm text-brand-bubblegum-foreground",children:l.name.charAt(0).toUpperCase()})})},i=e=>{let{project_profile:l}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex min-w-0 max-w-full flex-1 items-center gap-2 overflow-hidden",children:[(0,t.jsx)(n,{project_profile:l,size:"normal"}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col overflow-hidden",children:[(0,t.jsx)("span",{className:"truncate font-normal",children:l.name}),(0,t.jsx)("span",{className:"truncate text-sm text-muted-foreground",children:l.tagline})]})]})})}},87709:(e,l,s)=>{s.d(l,{t:()=>n});var t=s(77145),a=s(23293),r=s(56024);let n=e=>{let{projects:l,isLoading:s,className:n,showAvatar:i=!0,header:o,selectedCategory:c,subtitleType:d,showMoreButton:u,noProjectsMessage:m,showActionsDropdown:p,id:h,getHref:x,getOnClick:j,getImagePreviewButtonText:v}=e;return(0,t.jsxs)("div",{className:(0,r.cn)("flex flex-col gap-5",n),id:h,children:[o,(0,t.jsx)(a.D,{projects:l,isLoading:s,showAvatar:i,selectedCategory:c,subtitleType:d,noProjectsMessage:m,showActionsDropdown:p,getHref:x,getOnClick:j,getImagePreviewButtonText:v}),u]})}}}]);