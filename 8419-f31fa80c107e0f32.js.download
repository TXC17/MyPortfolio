try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})["__faroBundleId_gptengineer-app"]="17638416719484a12ecf001"}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8419],{10830:(e,s,a)=>{a.d(s,{AX:()=>m});var t=a(77145),l=a(95661),n=a(49493),r=a(57841),o=a(52811),i=a(20247),c=a(69730),d=a(89391);function m(e){let{open:s,onOpenChange:a,onWorkspaceSelect:r,selectedWorkspaceId:c}=e,d=(0,n.Mu)(e=>e.workspaces),m=(0,n.Mu)(e=>e.isLoading),x=(0,l.useCallback)(e=>{e.id&&(r(e.id),a(!1))},[r,a]);return(0,t.jsx)(i.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(i.Cf,{className:"max-h-screen w-96 gap-4",size:"sm",onOpenAutoFocus:e=>e.preventDefault(),children:[(0,t.jsxs)(i.c7,{children:[(0,t.jsx)(i.L3,{className:"text-xl",children:"Choose Workspace for Auto-Submit"}),(0,t.jsx)(i.rr,{className:"text-sm",children:"Please select which workspace to create this project in."})]}),m?(0,t.jsx)("div",{className:"flex max-h-72 w-full flex-col space-y-2 overflow-y-auto p-2",children:Array.from({length:3}).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 px-3 py-3",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-pulse rounded bg-muted"}),(0,t.jsx)("div",{className:"h-4 flex-1 animate-pulse rounded bg-muted"})]},s))}):(0,t.jsx)("div",{className:"flex max-h-72 w-full flex-col overflow-y-auto",children:d.map(e=>{var s;return(0,t.jsx)(u,{workspace:e,onSelect:()=>x(e),selected:c==e.id},null!=(s=e.id)?s:"fake-workspace-id")})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(o.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})})]})})}let u=e=>{let{workspace:s,onSelect:a,selected:l}=e;return(0,t.jsxs)(o.$,{variant:"ghost",onClick:a,className:"group flex h-auto w-full items-center justify-start gap-3 px-3 py-3 text-left",children:[(0,t.jsx)(r.z,{workspace:s}),(0,t.jsx)("p",{className:"min-w-0 truncate text-sm",children:s.name}),s.plan&&(0,t.jsx)(d.U,{plan:s.plan}),l&&(0,t.jsx)(c.A,{name:"check",size:"small",className:"ml-auto"})]})};a(51762)},15720:(e,s,a)=>{a.d(s,{J:()=>l});var t=a(95661);let l=()=>{let[e,s]=(0,t.useState)(!1),l=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useCallback)(async()=>{try{let e=new(await a.e(7135).then(a.t.bind(a,77135,23))).default;e.showPanel(1),e.dom.style.position="fixed",e.dom.style.left="0",e.dom.style.top="0",e.dom.style.zIndex="10000",document.body.appendChild(e.dom),l.current=e;let s=()=>{l.current&&(l.current.update(),n.current=requestAnimationFrame(s))};n.current=requestAnimationFrame(s)}catch(e){console.error("Failed to initialize stats.js:",e)}},[]),o=(0,t.useCallback)(()=>{var e,s;n.current&&(cancelAnimationFrame(n.current),n.current=null),(null==(s=l.current)||null==(e=s.dom)?void 0:e.parentNode)&&(document.body.removeChild(l.current.dom),l.current=null)},[]),i=(0,t.useCallback)(()=>{s(e=>!e)},[]);return(0,t.useEffect)(()=>(e?r():o(),o),[e,r,o]),{isEnabled:e,toggleStats:i}}},21311:(e,s,a)=>{a.d(s,{Aw:()=>c,EV:()=>r,i9:()=>n,r$:()=>i,zD:()=>o});var t=a(77817);let l=()=>"https://console.firebase.google.com/u/0/project/".concat(t.C.projectId,"/firestore/databases/-default-/data"),n=e=>"".concat(l(),"/~2Fprojects~2F").concat(e),r=e=>e?"".concat(l(),"/~2Fusers~2F").concat(e):"",o=(e,s)=>"".concat(n(e),"~2Ftrajectory~2F").concat(s),i=(e,s)=>"".concat(n(e),"~2Fedits~2F").concat(s),c=e=>"".concat(l(),"/~2Fworkspaces~2F").concat(e)},41541:(e,s,a)=>{a.d(s,{H:()=>o});var t=a(18502),l=a(83220),n=a(99989),r=a(51804);let o=()=>{var e,s;let a=(0,l.j4)(e=>e.currentWorkspace),{data:o,isLoading:i}=(0,t.I)(n.y.referralCreditsConfig({workspaceId:null==a?void 0:a.id}));return{inviteeCredits:null!=(e=null==o?void 0:o.invitee_credits)?e:r.aM,advocateCredits:null!=(s=null==o?void 0:o.advocate_credits)?s:r.xp,isLoading:i}}},51804:(e,s,a)=>{a.d(s,{aM:()=>t,qK:()=>n,xp:()=>l});let t=10,l=10,n=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";return 50===e?"dark"===s?"/img/referral/dark-spread-50.png":"/img/referral/light-spread-50.png":"dark"===s?"/img/referral/dark-spread.png":"/img/referral/light-spread.png"}},51969:(e,s,a)=>{a.d(s,{_:()=>l});var t=a(95661);let l=()=>{let[e,s]=(0,t.useState)(!1),l=(0,t.useCallback)(async()=>{try{let{scan:e}=await Promise.all([a.e(4456),a.e(7767)]).then(a.bind(a,97127));e({enabled:!0,showToolbar:!0,animationSpeed:"fast"})}catch(e){console.error("Failed to initialize React Scan:",e)}},[]),n=(0,t.useCallback)(async()=>{try{let{setOptions:e}=await Promise.all([a.e(4456),a.e(7767)]).then(a.bind(a,97127));e({enabled:!1,showToolbar:!1})}catch(e){console.error("Failed to disable React Scan:",e)}},[]),r=(0,t.useCallback)(()=>{s(e=>!e)},[]);return(0,t.useEffect)(()=>(e?l():n(),()=>{}),[e,l,n]),{isEnabled:e,toggleReactScan:r}}},53986:(e,s,a)=>{a.d(s,{E:()=>N});var t=a(77145),l=a(18502),n=a(53066),r=a(30849),o=a(92912),i=a(95661),c=a(31088),d=a(83220),m=a(52811),u=a(20247),x=a(69730),p=a(6397),h=a(27458),f=a(47226),g=a(41541),j=a(39528),w=a(99989);let v=["This offer is for new Lovable users only (gotta share the magic with fresh eyes).","Rewards are unlocked once your invite actually publishes an app. No ghost referrals, please.","We reserve the right to change, pause, or end this program anytime. We're experimental like that.","Don't spam or post your link where it doesn't belong. Let's keep it classy.","If we suspect sketchy behavior, we may withhold rewards or deactivate your link.","One reward per new user invited. No stacking loopholes - we're nerds, we'll catch it."],b=e=>{let{back:s}=e;return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)(u.c7,{className:"flex flex-col gap-4",children:[(0,t.jsxs)(m.$,{onClick:s,variant:"ghost",className:"w-fit px-2",children:[(0,t.jsx)(x.A,{name:"arrow_left",weight:"medium"}),"Back"]}),(0,t.jsx)(u.L3,{children:"Terms and conditions"})]}),(0,t.jsx)("div",{className:"pb-6",children:(0,t.jsx)("ul",{className:"flex max-h-60 list-disc flex-col gap-2 overflow-auto px-5",children:v.map((e,s)=>(0,t.jsx)("li",{children:(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e})},s))})})]})};var y=a(51804);let N=e=>{var s,a,v,N,k,C;let{onSuccess:A}=e,[_,F]=(0,i.useState)(!1),O=(0,d.j4)(e=>e.currentWorkspace),[I,S]=(0,i.useState)(!1),E=(0,l.I)(w.y.referralCode({referralCode:null==O?void 0:O.short_referral_code,workspaceId:null==O?void 0:O.id})),{inviteeCredits:D,advocateCredits:T,isLoading:R}=(0,g.H)(),z=[{icon:"bolt",children:"Share your invite link"},{icon:"crown",children:(0,t.jsxs)(t.Fragment,{children:["They sign up and get"," ",R?(0,t.jsx)(f.E,{className:"inline-block h-4 w-20"}):(0,t.jsxs)("b",{children:["extra ",D," credits"]})]})},{icon:"message_text",children:(0,t.jsxs)(t.Fragment,{children:["You get ",R?(0,t.jsx)(f.E,{className:"inline-block h-4 w-16"}):(0,t.jsxs)("b",{children:[T," credits"]})," once they publish their first website"]})}],W=(0,l.I)(w.y.referralCodeUsage({workspaceId:null==O?void 0:O.id})),L=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="10001",e.style.pointerEvents="none",document.body.appendChild(e),L.current=new n.A({canvas:e}),()=>{document.body.removeChild(e)}},[]);let P=window.location.protocol+"//"+window.location.host,K="".concat(P,"/invite/").concat(null==(s=E.data)?void 0:s.referral_code),U=async()=>{if(!_)try{var e;await navigator.clipboard.writeText(K),F(!0),null==(e=L.current)||e.addConfetti({emojis:["❤️","\uD83D\uDC96","\uD83D\uDC9D","\uD83D\uDC97","\uD83D\uDC93"],emojiSize:58}),o.Ay.capture(j.h6.COPIED_LINK,{method:"button",did_confetti:!0}),setTimeout(()=>{F(!1)},2e3)}catch(e){c.toast.error("Failed to copy link")}},M=(0,y.qK)(D,"dark"),$=(0,y.qK)(D);return(0,t.jsxs)(u.Cf,{hideCloseButton:!0,className:"pointer-events-auto flex max-h-[95vh] flex-col gap-4 overflow-y-auto border-none bg-background outline-none",children:[(0,t.jsx)(u.L3,{className:"sr-only",children:"Refer & Earn"}),I?(0,t.jsx)(b,{back:()=>S(!1)}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.c7,{children:(0,t.jsxs)("div",{className:"relative h-fit overflow-hidden rounded-xl",children:[(0,t.jsx)("button",{onClick:A,className:"absolute right-4 top-4 z-10 bg-transparent",tabIndex:-1,children:(0,t.jsx)(x.A,{name:"x",className:"h-5 w-5 cursor-pointer text-muted-foreground"})}),(0,t.jsx)(r.default,{src:M,alt:"Referral",className:"hidden w-full object-contain dark:block",width:406,height:188,priority:!0}),(0,t.jsx)(r.default,{src:$,alt:"Lovable 2.0",className:"block w-full object-contain dark:hidden",width:406,height:188,priority:!0})]})}),(0,t.jsxs)("div",{className:"md:py-2",children:[(0,t.jsx)("div",{className:"mb-3 text-base font-normal text-muted-foreground",children:"How it works:"}),(0,t.jsx)("div",{className:"flex flex-col gap-4",children:z.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(x.A,{name:e.icon,className:"h-5 w-5"}),(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsx)("span",{className:"text-base font-normal text-foreground",children:e.children})})]},s))})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("span",{className:"mb-3 flex items-center gap-4 pr-2 text-base font-normal text-muted-foreground",children:["Your invite link:",(0,t.jsx)("div",{className:"h-0.5 flex-1 bg-border"}),(0,t.jsxs)("span",{className:"flex items-center gap-2 text-muted-foreground",children:[W.isLoading?(0,t.jsx)(f.E,{className:"h-4 w-24 rounded"}):(0,t.jsxs)("span",{children:["used by ",(0,t.jsx)("b",{children:null!=(C=null==(a=W.data)?void 0:a.number_uses)?C:0})," users"]}),(null==(v=W.data)?void 0:v.number_uses)!==void 0&&(null==(N=W.data)?void 0:N.number_uses)>10&&(0,t.jsx)(h.Fy,{className:"size-4"})]})]}),E.isLoading?(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(f.E,{className:"h-12 w-full rounded-xl"})}):(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-2 rounded-xl bg-muted p-2 sm:flex-row sm:space-y-0",children:[(0,t.jsxs)("div",{className:"flex w-full flex-1 items-center px-2",children:[(0,t.jsx)(x.A,{name:"link",className:"mr-2 h-5 w-5 text-muted-foreground"}),(0,t.jsx)(p.p,{onCopy:()=>{o.Ay.capture(j.h6.COPIED_LINK,{method:"input_copy",did_confetti:!0})},value:E.error?"Error fetching the link, sorry":K,tabIndex:-1,readOnly:!0,className:"border-none shadow-none focus:outline-none focus:ring-0 focus-visible:ring-0"})]}),(0,t.jsx)(m.$,{onClick:U,className:"w-full rounded-xl sm:w-24",variant:"default",disabled:E.isLoading||!(null==(k=E.data)?void 0:k.referral_code),children:_?"Copied!":"Copy link"})]})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(m.$,{variant:"link",className:"h-fit w-fit py-0 text-xs font-normal text-muted-foreground underline",onClick:()=>S(!0),children:"View Terms and Conditions"})})]})]})}},58419:(e,s,a)=>{a.d(s,{A:()=>k});var t=a(77145),l=a(13410),n=a(95661),r=a(53986),o=a(83220),i=a(47679),c=a(49493),d=a(21311),m=a(67412),u=a(70518),x=a(27623),p=a(33966),h=a(56378),f=a(51762),g=a(8711),j=a(69730),w=a(10830),v=a(30389),b=a(15365),y=a(51969),N=a(15720);let k=e=>{let{open:s,setOpen:a}=e,k=(0,l.useRouter)(),{isEnabled:C,toggleStats:A}=(0,N.J)(),{isEnabled:_,toggleReactScan:F}=(0,y._)(),O=(0,b.WW)(),I=(0,p.X5)(),S=(0,c.Mu)(e=>e.setShowCreateWorkspaceDialog),{openSettings:E}=(0,i.t)(),D=(0,x.BK)(),T=(0,f.f)(r.E),R=(0,m.A)(),z=(0,f.f)(h.A),[W,L]=(0,n.useState)(!1),{setCurrentWorkspaceId:P,currentWorkspaceId:K}=(0,o.Dx)(),{copy:U,isCopied:M}=(0,v.i)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(g.rI,{open:s,onOpenChange:a,children:[(0,t.jsx)(g.ty,{asChild:!0,children:(0,t.jsx)("button",{className:"pointer-events-none absolute inset-x-0 select-none bg-transparent text-transparent"})}),(0,t.jsxs)(g.SQ,{className:"z-[1001] flex max-h-[80vh] min-w-[200px] max-w-[250px] flex-col gap-3 overflow-y-auto rounded-md border bg-background p-4",alignOffset:2,collisionPadding:8,sideOffset:18,children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h3",{className:"",children:"Admin Tools"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Global admin options."})]}),(0,t.jsx)(u.A,{iconName:"bolt",title:"Toggle Stats.js (".concat(C?"ON":"OFF",")"),onClick:A},"toggle-stats"),(0,t.jsx)(u.A,{iconName:"scan",title:"Toggle React Scan (".concat(_?"ON":"OFF",")"),onClick:F},"toggle-react-scan"),O&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{iconName:"person",title:"Impersonate User",externalHref:"/lovable-admin"},"impersonate-user"),K&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{externalHref:(0,d.Aw)(K),iconName:"web",title:"Firestore: Workspace"},"firestore-workspace"),(0,t.jsx)(u.A,{iconName:M?"check":"copy",title:M?"Copied!":"Copy Workspace ID",onClick:()=>U(K)},"copy-workspace-id")]}),(0,t.jsx)(g.mB,{}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h3",{className:"text-sm font-medium",children:"Dialog Triggers"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Open any dialog for testing"})]}),(0,t.jsxs)(g.lv,{children:[(0,t.jsxs)(g.nV,{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(j.A,{name:"eye",size:"small"}),"Show Dialogs"]}),(0,t.jsx)(g.M5,{className:"z-[1002] max-h-[70vh] min-w-[200px] max-w-[250px] overflow-y-auto p-2",sideOffset:8,children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(u.A,{iconName:"warning",title:"Open Out of Credits Dialog",onClick:()=>I()},"open-out-of-credits"),(0,t.jsx)(u.A,{iconName:"payments",title:"Open Subscriptions Dialog",onClick:()=>D(x.KU.PRO_SUPPORT)},"open-subscriptions"),(0,t.jsx)(u.A,{iconName:"plus_small",title:"Open Create Workspace Dialog",onClick:()=>S(!0)},"open-create-workspace"),(0,t.jsx)(u.A,{iconName:"gift",title:"Open Referral Dialog",onClick:()=>T({childProps:{}})},"open-referral"),(0,t.jsx)(u.A,{iconName:"shield",title:"Open Auth Dialog",onClick:R},"open-auth"),(0,t.jsx)(u.A,{iconName:"cog",title:"Open Settings Dialog",onClick:()=>E()},"open-settings"),(0,t.jsx)(u.A,{iconName:"communities",title:"Open Workspace Selection Dialog",onClick:()=>L(!0)},"open-workspace-selection"),(0,t.jsx)(u.A,{iconName:"trash",title:"Open Remove Confirm Dialog",onClick:()=>z({childProps:{title:"Remove Test Item",targetName:"Test User",descriptionTemplate:"Are you sure you want to remove {name}? This action cannot be undone.",onConfirm:async()=>{z(!1)},onCancel:()=>z(!1)}})},"open-remove-confirm")]})})]})]})]})]}),(0,t.jsx)(w.AX,{open:W,onOpenChange:e=>{L(e),e||k.replace("/")},onWorkspaceSelect:e=>{P(e),L(!1)},selectedWorkspaceId:K})]})}},70518:(e,s,a)=>{a.d(s,{A:()=>m});var t=a(77145),l=a(30849),n=a(46753),r=a.n(n),o=a(98805),i=a(8711),c=a(69730),d=a(56024);let m=e=>{let{title:s,iconName:a,imageSrc:n,onClick:m,internalHref:u,externalHref:x,className:p,iconClassName:h,badgeText:f}=e,g=(0,t.jsxs)(t.Fragment,{children:[a&&(0,t.jsx)(c.A,{name:a,className:"shrink-0 text-foreground ".concat(h)}),n&&(0,t.jsx)(l.default,{alt:"icon",src:n,width:"14",height:"14"}),(0,t.jsx)("span",{className:"truncate text-primary",children:s}),f&&(0,t.jsx)(o.y,{children:f})]});return(0,t.jsx)(i._2,{className:(0,d.cn)("",p),asChild:!0,children:u?(0,t.jsx)(r(),{href:u,children:g}):x?(0,t.jsxs)("a",{href:x,target:"_blank",rel:"noopener noreferrer",children:[g,(0,t.jsx)(c.A,{name:"arrow_up_right",className:"ml-auto h-4 w-4 text-foreground"})]}):(0,t.jsx)("div",{className:"w-full",onClick:()=>{m&&m()},children:g})})}},89391:(e,s,a)=>{a.d(s,{U:()=>r});var t=a(77145),l=a(72632),n=a(56024);let r=e=>{let{plan:s,className:a}=e,{isInactivePlan:r,isFreePlan:o}=(0,l.cb)(s),i=(0,l._R)(s);return(0,t.jsx)("span",{className:(0,n.cn)("rounded-full px-2 py-px text-center text-[10px] font-medium uppercase transition-colors duration-150 ease-in-out",o||r?"bg-muted-active text-muted-foreground":"bg-brand-twilight-primary text-brand-twilight-primary-foreground",a),children:i})}}}]);